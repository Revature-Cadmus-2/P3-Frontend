<div class="container">
    <h6>Create a post</h6>
    <div class="card w-75">
        <div class="card-body">
            <form (ngSubmit)="onSubmit(postForm)" #postForm="ngForm">
                <div class="form-group mb-3">
                    <input type="text" maxlength="50" class="form-control" id="post-title" placeholder="Title" [(ngModel)]="post.title" name="title" #title="ngModel" required>
                    <div *ngIf="postForm.controls['title']?.invalid && postForm.controls['title'].touched">
                        <span *ngIf="postForm.controls['title'].errors?.required" class="form-text">Title is required</span>
                    </div>
                </div>
                <div class="form-group mb-3">
                    <textarea class="form-control" id="exampleFormControlTextarea1" placeholder="What's on your mind..." rows="3" maxlength="140" [(ngModel)]="post.message" name="message" #message="ngModel" required></textarea>
                    <div *ngIf="postForm.controls['message']?.invalid && postForm.controls['message'].touched">
                        <span *ngIf="postForm.controls['message'].errors?.required" class="form-text">Text body is required</span>
                    </div>
                </div>
                <div class="d-md-flex justify-content-md-end">
                    <div *ngIf="postForm.controls['message']?.valid && postForm.controls['title']?.valid; else invalid">
                        <input class="btn btn-primary rounded-pill" type="submit" value="Post">
                    </div>
                    <ng-template #invalid>
                        <input class="btn btn-primary rounded-pill disabled" type="submit" value="Post">
                    </ng-template>
                </div>
            </form>
        </div>
    </div>
</div>


